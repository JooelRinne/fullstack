{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","_ref","handleSearchChange","newSearch","react_default","a","createElement","value","onChange","PersonForm","addPerson","newName","handlePersonChange","newNumber","handleNumberChange","onSubmit","type","Persons","person","deletePerson","name","number","onClick","baseUrl","services_persons","axios","get","then","response","data","newObject","post","id","delete","concat","put","Notification","className","message","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setNewSearch","_useState9","_useState10","setMessage","_useState11","_useState12","errorMessage","setErrorMessage","useEffect","personService","initialPersons","components_Notification","components_Filter","event","target","components_PersonForm","preventDefault","isAlready","forEach","item","window","alert","confirm","find","newPerson","objectSpread","returnedPerson","map","setTimeout","catch","error","filter","console","log","toLowerCase","includes","components_Persons","key","result","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.0e7cf95c.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ handleSearchChange, newSearch }) => {\r\n    return (\r\n        <div>\r\n            rajaa näytettäviä\r\n            <input\r\n                value={newSearch}\r\n                onChange={handleSearchChange}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter\r\n\r\n","import React from 'react'\r\n\r\nconst PersonForm = ({ addPerson, newName, handlePersonChange, newNumber, handleNumberChange }) => {\r\n    return (\r\n        <form onSubmit={addPerson}>\r\n        <div>\r\n          nimi: \r\n          <input \r\n            value={newName}\r\n            onChange={handlePersonChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          numero:\r\n          <input\r\n            value={newNumber}\r\n            onChange={handleNumberChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">lisää</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm\r\n","import React from 'react'\r\n\r\nconst Persons = ({ person, deletePerson }) => {\r\n\r\n    return (\r\n        <li>\r\n            {person.name} {person.number} <button onClick={deletePerson}>Poista</button>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default Persons\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst erase = id => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, erase, update }","import React from 'react'\r\n\r\nconst Notification = ({ className, message }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    if (className === \"ok\") {\r\n    return (\r\n        <div className=\"ok\">\r\n            {message}\r\n        </div>\r\n    )\r\n    }\r\n\r\n    if (className === \"error\") {\r\n        return (\r\n            <div className=\"error\">\r\n                {message}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newSearch, setNewSearch] = useState('')\n  const [message, setMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    let isAlready = false\n\n    persons.forEach(function (item) {\n      if (item.name === newName && item.number === newNumber) {\n        window.alert(`${newName} on jo luettelossa`)\n        isAlready = true\n      } else if (item.name === newName && item.number !== newNumber) {\n        if (window.confirm(`${item.name} on jo luettelossa, korvataanko vanha numero uudella?`)) {\n          const person = persons.find(person => person.id === item.id)\n          const newPerson = { ...person, number: newNumber }\n\n          personService\n            .update(item.id, newPerson)\n            .then(returnedPerson => {\n              setPersons(persons.map(person => person.id !== item.id ? person : returnedPerson))\n              setMessage(\n                `Henkiön ${newPerson.name} numero muutettu`\n              )\n              setTimeout(() => {\n                setMessage(null)\n              }, 5000)\n            })\n            .catch(error => {\n              setErrorMessage(\n                `Henkilö ${newPerson.name} oli jo poistettu`\n              )\n              setTimeout(() => {\n                setErrorMessage(null)\n              }, 5000)\n              setPersons(persons.filter(person => person.id !== item.id))\n            })\n        }\n        isAlready = true\n      }\n    })\n\n    if (!isAlready) {\n      const newPerson = {\n        name: newName,\n        number: newNumber\n      }\n      personService\n        .create(newPerson)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setMessage(\n            `Lisättiin '${newPerson.name}'`\n          )\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n        .catch(error => {\n          console.log(error.response.data)\n          setErrorMessage(error.response.data.error)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const handlePersonChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchChange = (event) => {\n    setNewSearch(event.target.value)\n  }\n\n  const personSearch = () => {\n    if (newSearch === '') {\n      return persons\n    } else {\n      return persons.filter(person => person.name.toLowerCase().includes(newSearch.toLowerCase()))\n    }\n  }\n\n  const deletePerson = id => {\n    const person = persons.find(person => person.id === id)\n    if (window.confirm(`Poistetaanko henkilö ${person.name}?`)) {\n      personService\n        .erase(id)\n        .then(result => {\n          setMessage(\n            `Poistettiin '${person.name}'`\n          )\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n        .catch(error => {\n          setErrorMessage(\n            `Henkilö ${person.name} oli jo poistettu`\n          )\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n      setPersons(persons.filter(person => person.id !== id))\n    }\n  }\n\n\n\n  return (\n    <div>\n      <h2>Puhelinluettelo</h2>\n      <Notification className=\"ok\" message={message} />\n      <Notification className=\"error\" message={errorMessage} />\n      <Filter handleSearchChange={handleSearchChange} newSearch={newSearch} />\n      <h3>lisää uusi</h3>\n      <PersonForm addPerson={addPerson} newName={newName} handlePersonChange={handlePersonChange} newNumber={newNumber} handleNumberChange={handleNumberChange} />\n      <h2>Numerot</h2>\n      <div>\n        <ul>\n          {personSearch().map(person =>\n            <Persons\n              key={person.id}\n              person={person}\n              deletePerson={() => deletePerson(person.id)}\n            />\n          )}\n        </ul>\n      </div>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}